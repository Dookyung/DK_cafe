---
title: "R Package 만들기 3"
author: "Dookyung Kim"
date: 2018-06-07T21:13:14-05:00
categories: ["R"]
tags: ["devtools"]
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(collapse = TRUE)
```

# Description 파일 설정

```{r}
library(devtools)
```

## DESCRIPTION 파일 설정

Description 파일을 열어 내용을 보면 다음과 같다.

```
Package: r4issactoast
Type: Package
Title: What the Package Does (Title Case)
Version: 0.1.0
Author: Who wrote it
Maintainer: The package maintainer <yourself@somewhere.net>
Description: More about what it does (maybe more than one line)
    Use four spaces when indenting paragraphs within the Description.
License: What license is it under?
Encoding: UTF-8
LazyData: true
```
DESCRIPTION 파일에 들어갈 필수 항목은 ‘Package’, ‘Version’, ‘License’, ‘Description’, ‘Title’, ‘Author’, ‘Maintainer’ 항목이다.

* __Package__ : 패키지 이름을 입력
* __Title__ : 패키지를 설명할 수 있는 짧은 문장. (Title Case)

```{r}
tools::toTitleCase("favorite R functions for <www.issactoast.com>")
```


* __Version__ : 패키지 버전은 . 혹은 -를 사용하여 입력한다.

* __Date__ : 패키지를 만든 날짜 

* __Author__ & __Maintainer__ : 패키지 작성자, 유지관리자

```
Authors@R: person("Issac", "Lee", email = "issactoast@gmail.com", 
                  role = c("aut", "cre"))
```

```{R}
person("Issac", "Lee", email = "issactoast@gmail.com", role = c("aut", "cre"))
```

## [1] "Issac Lee <issactoast@gmail.com> [aut, cre]"

* __License__ : 패키지 라이선스 (MIT 등) . use_mit_license() 함수를 이용하면, 자동으로 DESCRIPTION 파일 내용을 바꿔줌

```
use_mit_license(copyright_holder = "Issac Lee")
```

위의 결과로 DESCRIPTION 파일의 license항목이 MIT + file LICENSE로 바뀌고, LICENSE라는 이름의 파일이 폴더에 생성된 것을 확인 할 수 있다.

* __LazyData__ : true. 패키지에 딸려있는 데이터가 존재하는 경우


## DESCRIPTION 파일 내용

Package: r4issactoast
Type: Package
Version: 0.1.0
Date: 2017-07-05
Title: Favorite R Functions for <www.issactoast.com>
Authors@R: c(person("Issac", "Lee", role = c("aut", "cre"),
                     email = "issactoast@gmail.com"))
Description: This package has many functions which are used
    in <www.issactoast.com> blog statistics posts. All the explations
    and applications of functions can be found in the website given in the title.
License: MIT + file LICENSE
Encoding: UTF-8
LazyData: true

이제 우리가 만든 패키지의 메타데이터를 다 채웠다. 이것을 확인하기 위하여 다음의 citation() 함수를 이용하여 패키지 레퍼런스를 확인해보자.


```{r eval=FALSE}
load_all()
citation("R4me")
```

```
패키지 ‘R4me’를 출판의 목적으로 인용하고자 한다면 다음과 같이 사용하세요:

  Dookyung Kim (2017). R4me: Favorite R Functions for <www.R4me.com>. R package
  version 0.1.0.

A BibTeX entry for LaTeX users is

  @Manual{,
    title = {R4me: Favorite R Functions for <www.R4me.com>},
    author = {Dookyung Kim},
    year = {2017},
    note = {R package version 0.1.0},
  }
```

## License에 대하여

* __MIT__ : MIT 라이선스(MIT License)는 미국 매사추세츠 공과대학교(MIT)에서 해당 대학의 소프트웨어 공학도들을 돕기 위해 개발한 라이선스다. MIT 라이선스를 따르는 소프트웨어를 개조한 제품을 반드시 오픈 소스로 배포해야 한다는 규정이 없으며 GNU 일반 공중 라이선스의 엄격함을 피하려는 사용자들에게 인기가 있다.

사실 필자가 이해하는 MIT 라이선스의 골자는 다음과 같다. 이 라이선스의 특징은 자유롭게 이용하되, 배포할 때 라이선스를 같이 배포해야 한다(우리의 경우는 파일)는 조건이 있다.

* __GPL-2__: 자유 소프트웨어 재단(OSF)에서 만든 자유 소프트웨어 라이선스다. 미국의 리처드 스톨만(Richard Stallman)이 GNU-프로젝트로 배포된 프로그램의 라이선스로 사용하기 위해 작성했다.

프로그램을 어떤 목적으로든지 사용할 수 있다.
프로그램의 복사를 언제나 프로그램의 코드와 함께 판매 또는 무료로 배포할 수 있다.
프로그램의 코드를 용도에 따라 결정할 수 있다.
변경된 프로그램 역시 프로그램의 코드와 함께 자유로이 배포할 수 있다.
대부분의 소프트웨어에 대한 라이선스는 소프트웨어를 공유하거나 수정할 수 있는 자유를 금지하기 위해 고안되었다. 반면에 GNU 일반 공중 라이선스는 자유 소프트웨어를 공유하고 수정할 수 있는 자유를 보장하기 위해 의도되었다. 즉, 소프트웨어가 사용자 모두에게 자유롭게 이용될 수 있도록 하는 것이다.

필자가 이해하는 GPL-2 라이선스의 골자는 다음과 같다. 나의 코드를 마음대로 가져다가 써도되고, 판매해도 된다. 하지만 이 라이선스의 코드를 가져다 쓴다면 그의 부산물 역시 GPL로 공개 해야만 한다.


참고 문헌
[1] Wickham, Hadley. R packages: organize, test, document, and share your code. " O’Reilly Media, Inc.“, 2015.

[2] Jennifer (Jenny) Bryan, Write your own R package STAT 545

[3] 오픈소스SW라이선스 종합정보시스템 (https://olis.or.kr/license/introduction.do)

[4] Writing R extension 페이지 (https://cran.r-project.org/doc/manuals/r-release/R-exts.html#The-DESCRIPTION-file)

